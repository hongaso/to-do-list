<div class="form-container">
  <div class="form-card">
    <h2 class="form-title">âž• Crear Nueva Tarea</h2>

    <form [formGroup]="todoForm" (ngSubmit)="onSubmit()" class="todo-form">
      <!-- Campo TÃ­tulo -->
      <div class="form-group">
        <label for="title" class="form-label">TÃ­tulo *</label>
        <input
          type="text"
          id="title"
          formControlName="title"
          placeholder="Â¿QuÃ© necesitas hacer?"
          class="form-input"
          [class.error]="title?.invalid && title?.touched"
        />
        <div class="error-message" *ngIf="title?.invalid && title?.touched">
          <span *ngIf="title?.errors?.['required']">El tÃ­tulo es requerido</span>
          <span *ngIf="title?.errors?.['minlength']">MÃ­nimo 3 caracteres</span>
          <span *ngIf="title?.errors?.['maxlength']">MÃ¡ximo 100 caracteres</span>
        </div>
      </div>

      <!-- Campo DescripciÃ³n -->
      <div class="form-group">
        <label for="description" class="form-label">DescripciÃ³n</label>
        <textarea
          id="description"
          formControlName="description"
          placeholder="Detalles adicionales (opcional)"
          rows="4"
          class="form-textarea"
          [class.error]="description?.invalid && description?.touched"
        ></textarea>
        <div class="error-message" *ngIf="description?.invalid && description?.touched">
          <span *ngIf="description?.errors?.['maxlength']">MÃ¡ximo 500 caracteres</span>
        </div>
        <div class="char-count">{{ description?.value?.length || 0 }}/500</div>
      </div>

      <!-- Campo Prioridad -->
      <div class="form-group">
        <label for="priority" class="form-label">Prioridad *</label>
        <select id="priority" formControlName="priority" class="form-select">
          <option value="low">ðŸŸ¢ Baja</option>
          <option value="medium">ðŸŸ¡ Media</option>
          <option value="high">ðŸ”´ Alta</option>
        </select>
      </div>

      <!-- Botones de acciÃ³n -->
      <div class="form-actions">
        <button
          type="button"
          (click)="onCancel()"
          class="btn btn-secondary"
          [disabled]="isSubmitting"
        >
          Cancelar
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="todoForm.invalid || isSubmitting">
          {{ isSubmitting ? 'Creando...' : 'Crear Tarea' }}
        </button>
      </div>
    </form>
  </div>
</div>
